# بوت تليجرام مع OpenAI 🤖

بوت تليجرام ذكي يستخدم OpenAI API للإجابة على الأسئلة والمحادثة مع المستخدمين باللغة العربية.

## المميزات ✨

- 🤖 إجابات ذكية باستخدام OpenAI GPT
- 💬 محادثة تفاعلية مع حفظ السياق
- 🌐 دعم كامل للغة العربية
- ⚡ استجابة سريعة
- 🔒 آمن ومحمي
- 🌍 جاهز للاستضافة على Render

## المتطلبات 📋

- Node.js 18+ 
- حساب Telegram Bot (من @BotFather)
- مفتاح OpenAI API
- حساب Render للاستضافة (اختياري)

## التثبيت المحلي 🛠️

### 1. تحميل المشروع
```bash
git clone <repository-url>
cd telegram-bot
```

### 2. تثبيت التبعيات
```bash
npm install
```

### 3. إعداد المتغيرات البيئية
انسخ ملف `.env.example` إلى `.env`:
```bash
cp .env.example .env
```

ثم عدّل الملف وأضف:
```env
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo
PORT=3000
```

### 4. تشغيل البوت
```bash
# للتطوير
npm run dev

# للإنتاج
npm start
```

## الحصول على المفاتيح 🔑

### بوت تليجرام
1. ابحث عن @BotFather في تليجرام
2. أرسل `/newbot`
3. اتبع التعليمات لإنشاء البوت
4. احفظ الـ Token المعطى

### OpenAI API
1. اذهب إلى [platform.openai.com](https://platform.openai.com)
2. سجل دخولك أو أنشئ حساب
3. اذهب إلى API Keys
4. أنشئ مفتاح جديد واحفظه

## الاستضافة على Render 🚀

### الطريقة الأولى: استخدام render.yaml
1. ارفع المشروع إلى GitHub
2. اذهب إلى [render.com](https://render.com)
3. أنشئ حساب جديد أو سجل دخولك
4. اضغط "New" ثم "Web Service"
5. اربط حساب GitHub واختر المستودع
6. Render سيكتشف ملف `render.yaml` تلقائياً
7. أضف المتغيرات البيئية:
   - `TELEGRAM_BOT_TOKEN`
   - `OPENAI_API_KEY`
8. اضغط "Create Web Service"

### الطريقة الثانية: الإعداد اليدوي
1. في Render، اختر "New Web Service"
2. اربط المستودع
3. اعدادات الخدمة:
   - **Environment**: Node
   - **Build Command**: `npm install`
   - **Start Command**: `npm start`
4. أضف المتغيرات البيئية
5. انشر الخدمة

## الأوامر المتاحة 📝

- `/start` - بدء المحادثة
- `/help` - عرض المساعدة
- `/clear` - مسح المحادثة الحالية
- `/info` - معلومات عن البوت

## هيكل المشروع 📁

```
telegram-bot/
├── index.js          # الملف الرئيسي
├── package.json      # تبعيات Node.js
├── .env.example      # نموذج المتغيرات البيئية
├── .gitignore        # ملفات مستبعدة من Git
├── render.yaml       # تكوين Render
└── README.md         # هذا الملف
```

## الاستكشاف والإصلاح 🔧

### البوت لا يرد
- تأكد من صحة `TELEGRAM_BOT_TOKEN`
- تأكد من تشغيل الخدمة
- تحقق من السجلات (logs)

### خطأ OpenAI
- تأكد من صحة `OPENAI_API_KEY`
- تحقق من رصيد حسابك في OpenAI
- تأكد من أن النموذج متاح

### مشاكل الاستضافة
- تأكد من إضافة جميع المتغيرات البيئية
- تحقق من أن المنفذ 10000 مستخدم
- راجع سجلات Render

## الأمان 🔒

- لا تشارك مفاتيح API أبداً
- استخدم متغيرات البيئة دائماً
- لا ترفع ملف `.env` إلى Git
- راجع استخدام OpenAI API بانتظام

## التطوير 💻

### إضافة ميزات جديدة
1. عدّل `index.js`
2. أضف معالجات جديدة للأوامر
3. اختبر محلياً
4. انشر التحديثات

### تخصيص الردود
عدّل `SYSTEM_MESSAGE` في `index.js` لتغيير سلوك البوت.

## الدعم 💬

إذا واجهت أي مشاكل:
1. تحقق من السجلات
2. راجع التوثيق
3. تأكد من صحة المفاتيح
4. اتصل بالدعم الفني

## الترخيص 📄

MIT License - يمكنك استخدام وتعديل الكود بحرية.

---

**ملاحظة**: هذا البوت للأغراض التعليمية والتجريبية. للاستخدام التجاري، تأكد من مراجعة شروط خدمة OpenAI وTelegram.

